{"title":"React组件异步加载","uid":"fba191276a9852d7cc27748cdc57a493","slug":"React组件异步加载","date":"2020-08-13T15:22:45.000Z","updated":"2021-05-14T10:50:56.096Z","comments":true,"path":"api/articles/React组件异步加载.json","keywords":null,"cover":"/assets/react.jpg","content":"<h1 id=\"使用-react-loadable-快速完成异步组件的编写\"><a href=\"#使用-react-loadable-快速完成异步组件的编写\" class=\"headerlink\" title=\"使用 react-loadable 快速完成异步组件的编写\"></a>使用 react-loadable 快速完成异步组件的编写</h1><pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">npm install react-loadable --save\n\n&#x2F;&#x2F; eq:\nimport Loadable from &#39;react-loadable&#39;;\nimport Loading from &#39;.&#x2F;my-loading-component&#39;;\nconst LoadableComponent &#x3D; Loadable(&#123;\n  loader: () &#x3D;&gt; import(&#39;.&#x2F;my-component&#39;),\n  loading: Loading,\n&#125;);\nexport default class App extends React.Component &#123;\n  render() &#123;\n    return &lt;LoadableComponent&#x2F;&gt;;\n  &#125;\n&#125;</code></pre>\n\n<span id=\"more\"></span>\n\n<h1 id=\"自定义异步组件-create-syncComponent-js\"><a href=\"#自定义异步组件-create-syncComponent-js\" class=\"headerlink\" title=\"自定义异步组件 create syncComponent.js\"></a>自定义异步组件 create syncComponent.js</h1><pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">import React from &#39;react&#39;\n\nexport default (loadComponent) &#x3D;&gt;\n  class AsyncComponent extends React.Component &#123;\n    state &#x3D; &#123;\n      Component: null,\n    &#125;\n    async componentDidMount() &#123;\n      if (this.state.Component !&#x3D;&#x3D; null) return\n\n      try &#123;\n        const &#123; default: Component &#125; &#x3D; await loadComponent()\n        this.setState(&#123; Component &#125;)\n      &#125; catch (err) &#123;\n        console.error(&#39;Cannot load component in &lt;AsyncComponent &#x2F;&gt;&#39;)\n        throw err\n      &#125;\n    &#125;\n\n    render() &#123;\n      const &#123; Component &#125; &#x3D; this.state\n      return Component ? &lt;Component &#123;...this.props&#125; &#x2F;&gt; : null\n    &#125;\n  &#125;</code></pre>\n\n<p>使用：</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">import asyncComponent from &#39;@&#x2F;components&#x2F;AsyncComponent&#39;\nconst _import_views &#x3D; (file) &#x3D;&gt; asyncComponent(() &#x3D;&gt; import(&#96;@&#x2F;views&#x2F;$&#123;file&#125;&#96;))\nconst Home &#x3D; _import_views(&#39;Home&#39;)</code></pre>\n","feature":true,"text":"使用 react-loadable 快速完成异步组件的编写npm install react-loadable --save &#x2F;&#x2F; eq: import Loadable from &#39;react-loadable&#39;; import Loadin...","link":"","photos":[],"count_time":{"symbolsCount":"1.5k","symbolsTime":"1 mins."},"categories":[{"name":"React","slug":"React","count":2,"path":"api/categories/React.json"}],"tags":[{"name":"React","slug":"React","count":2,"path":"api/tags/React.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8-react-loadable-%E5%BF%AB%E9%80%9F%E5%AE%8C%E6%88%90%E5%BC%82%E6%AD%A5%E7%BB%84%E4%BB%B6%E7%9A%84%E7%BC%96%E5%86%99\"><span class=\"toc-text\">使用 react-loadable 快速完成异步组件的编写</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E6%AD%A5%E7%BB%84%E4%BB%B6-create-syncComponent-js\"><span class=\"toc-text\">自定义异步组件 create syncComponent.js</span></a></li></ol>","author":{"name":"Bobby's Blog","slug":"blog-author","avatar":"/assets/user/bobby.jpg","link":"/","description":"欢迎来到我的博客 <br /> (σﾟ∀ﾟ)σ..:*☆哎哟不错哦","socials":{"github":"https://github.com/oOBobbyOo","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Typescript 教程","uid":"36ed985afabbf28dbf33794d7b5319fd","slug":"Typescript教程","date":"2020-08-26T14:36:20.000Z","updated":"2021-05-14T10:39:55.807Z","comments":true,"path":"api/articles/Typescript教程.json","keywords":null,"cover":"/assets/typescript.jpg","text":"TypeScript 是 JavaScript 的类型的超集，它可以编译成纯 JavaScript。TypeScript 可以在任何浏览器、任何计算机和任何操作系统上运行，并且是开源的。主要提供了类型系统和对 ES6 的支持，它由 Microsoft 开发，代码 开源于 GitH...","link":"","photos":[],"count_time":{"symbolsCount":"10k","symbolsTime":"9 mins."},"categories":[{"name":"Typescript","slug":"Typescript","count":1,"path":"api/categories/Typescript.json"}],"tags":[{"name":"Typescript","slug":"Typescript","count":1,"path":"api/tags/Typescript.json"}],"author":{"name":"Bobby's Blog","slug":"blog-author","avatar":"/assets/user/bobby.jpg","link":"/","description":"欢迎来到我的博客 <br /> (σﾟ∀ﾟ)σ..:*☆哎哟不错哦","socials":{"github":"https://github.com/oOBobbyOo","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"vue.config.js 配置","uid":"bbe4af776c0ccb3326bd13f893d1dc57","slug":"Vue.config.js配置","date":"2020-07-15T12:19:10.000Z","updated":"2021-05-14T10:40:09.382Z","comments":true,"path":"api/articles/Vue.config.js配置.json","keywords":null,"cover":"assets/vue.png","text":"vue.config.js 是一个可选的配置文件，如果项目的 (和 package.json 同级的) 根目录中存在这个文件，那么它会被 @vue/cli-service 自动加载。 配置参考 &#x2F;&#x2F; vue.config.js const path &#x3D...","link":"","photos":[],"count_time":{"symbolsCount":"6.2k","symbolsTime":"6 mins."},"categories":[{"name":"Vue","slug":"Vue","count":1,"path":"api/categories/Vue.json"}],"tags":[{"name":"Vue","slug":"Vue","count":1,"path":"api/tags/Vue.json"}],"author":{"name":"Bobby's Blog","slug":"blog-author","avatar":"/assets/user/bobby.jpg","link":"/","description":"欢迎来到我的博客 <br /> (σﾟ∀ﾟ)σ..:*☆哎哟不错哦","socials":{"github":"https://github.com/oOBobbyOo","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}